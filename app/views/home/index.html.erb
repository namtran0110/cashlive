<div class="wrapper">
  <div id="coverflow">
    <div id="gradient"></div>

    <% if @streaming_stores.count > 0 %>

        <h4>
          <small>Top stores:</small>
          <br>
          <span>Live<svg xmlns="http://www.w3.org/2000/svg"><circle cx="5" cy="5" r="5" fill="red"></circle></svg></span>
        </h4>

        <ul class="flip-items">
          <% @streaming_stores.each do |store, i| %>
              <li
              data-store="<%= store.name %>"
              data-stream="<%= store.stream_instance.title %>"
              data-uri="<%= store_path(store) %>">
                <%= image_tag store.user.avatar.url(:medium) %>
              </li>
          <% end %>
          <% @streaming_stores.each do |store, i| %>
              <li
              data-store="<%= store.name %>"
              data-stream="<%= store.stream_instance.title %>"
              data-uri="<%= store_path(store) %>">
                <%= image_tag store.user.avatar.url(:medium) %>
              </li>
          <% end %>
        </ul>
    <% end %>
  </div>

  <% if @streaming_stores.count > 0 %>
      <div id="coverflow-panel">
        <!-- dynamically populated -->
      </div>
  <% else %>
      <div style="height: 100px; width: 100%;">
        <h4 class="text-center" style="display: block; line-height: 100px; color: white">No stores are currently
          streaming :'(</h4>
      </div>
  <% end %>
</div>
<div class="container">
  <h2 style="padding-top: 20px;">Other Popular stores:</h2>
  <%= link_to 'Categories', categories_path, class: 'CL-button' %>
  <div class="row">
    <% if @other_stores.count > 0 %>
        <% @other_stores.each do |store| %>
            <%= render partial: 'stores/store_listing', locals: {store: store} %>
        <% end %>
    <% else %>
        <p>All stores have already been listed above!</p>
    <% end %>
  </div>
</div>
